"use strict";(self.webpackChunkodin_todo_list=self.webpackChunkodin_todo_list||[]).push([[792],{859:()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(e){var o=function(e){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,"string");if("object"!=t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(o)?o:o+""}var n=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=Date.now().toString(),this.title=e,this.completed=!1},(o=[{key:"toggleComplete",value:function(){this.completed=!this.completed}}])&&e(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,o}(),r="todoAppData";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function c(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t){if("object"!=i(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,"string");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}var d="Project not found",l=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.projects={},this.selectedProject=null,this.load()},e=[{key:"save",value:function(){var t;!function(t){try{localStorage.setItem(r,JSON.stringify(t))}catch(t){console.error("Error saving data to localStorage:",t)}}({projects:this.projects,selectedProjectId:null===(t=this.selectedProject)||void 0===t?void 0:t.id})}},{key:"load",value:function(){var t=function(){try{var t=localStorage.getItem(r);return t?JSON.parse(t):null}catch(t){return console.error("Error loading data from localStorage:",t),null}}();t?(this.projects=t.projects||{},this.selectedProject=this.getProjectById(t.selectedProjectId)):this.createDefaultProject()}},{key:"createDefaultProject",value:function(){try{this.createProject("Default Project")}catch(t){console.error("Error creating default project:",t)}}},{key:"createProject",value:function(t){if(!t||""===t.trim())throw new Error("Project name cannot be empty");if(this.getProjectByName(t))throw new Error("Project with this name already exists");var e={id:Date.now().toString(),name:t.trim(),todos:[],createdDate:new Date,lastModified:new Date};return this.projects[e.id]=e,this.save(),e}},{key:"getProjectById",value:function(t){return this.projects[t]}},{key:"getProjectByName",value:function(t){return Object.values(this.projects).find((function(e){return e.name===t}))}},{key:"addTodo",value:function(t,e){var o=this.getProjectById(t);if(!o)throw new Error(d);var r=new n(e);return o.todos.push(r),o.lastModified=new Date,this.save(),r}},{key:"deleteTodo",value:function(t,e){var o=this.getProjectById(t);if(!o)throw new Error(d);o.todos=o.todos.filter((function(t){return t.id!==e})),o.lastModified=new Date,this.save()}},{key:"selectProject",value:function(t){var e=this.getProjectById(t);e&&(this.selectedProject=e,this.save())}}],e&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),u=document.getElementById("project-list"),s=document.getElementById("todo-list"),f=document.getElementById("todo-modal"),m=document.getElementById("modal-title"),v=document.getElementById("todo-form"),y=document.getElementById("todo-title");function p(){f.classList.add("hidden"),v.reset()}var h=new l,j=null;function g(t){j=t,w()}function b(t,e){var o=h.getProjectById(t);if(o){var n=o.todos.find((function(t){return t.id===e}));n&&(n.toggleComplete(),h.save(),w())}}function E(){var t=prompt("Enter project name:");if(t&&t.trim()){var e=h.createProject(t.trim());j=e.id,w()}}function P(t){t.preventDefault();var e={title:y.value.trim()},o=h.getProjectById(j);o&&(o.todos.push({id:Date.now().toString(),title:e.title,completed:!1}),h.save(),p(),w())}function w(){!function(t,e,o){u.innerHTML="",Object.values(t).forEach((function(t){var n=document.createElement("div");n.className="project-item",n.textContent=t.name,t.id===e&&n.classList.add("active"),n.addEventListener("click",(function(){return o(t.id)})),u.appendChild(n)}))}(h.projects,j,g);var t=h.getProjectById(j);t&&function(t,e){s.innerHTML="",t&&t.todos&&0!==t.todos.length?t.todos.forEach((function(o){var n=document.createElement("div");n.className="todo-item";var r=document.createElement("input");r.type="checkbox",r.checked=o.completed,r.addEventListener("change",(function(){return e(t.id,o.id)}));var i=document.createElement("span");i.textContent=o.title,n.appendChild(r),n.appendChild(i),s.appendChild(n)})):s.innerHTML="<p>No tasks in this project</p>"}(t,b)}document.addEventListener("DOMContentLoaded",(function(){document.getElementById("add-project-button").addEventListener("click",E),document.getElementById("add-todo-button").addEventListener("click",(function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";m.textContent=t?"Edit Task":"Add New Task",y.value=t,f.classList.remove("hidden")}()})),document.getElementById("todo-form").addEventListener("submit",P),document.getElementById("close-modal-button").addEventListener("click",p),w()}))}},t=>{t(t.s=859)}]);
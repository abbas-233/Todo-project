"use strict";(self.webpackChunkodin_todo_list=self.webpackChunkodin_todo_list||[]).push([[792],{283:(e,t,n)=>{var r=n(100);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}var s=function(){return e=function e(t,n,r,o,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"general",l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:[],p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:[],m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,f=arguments.length>13&&void 0!==arguments[13]?arguments[13]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=Date.now().toString()+Math.random().toString(36).substr(2,9),this.title=t,this.description=n,this.dueDate=r,this.priority=o,this.notes=a,this.completed=i,this.category=s,this.isRecurring=l,this.recurrence=c,this.tags=d,this.dependencies=u,this.subtasks=p,this.timeSpent=m,this.templateId=f,this.startTime=null,this.createdDate=new Date,this.lastModified=new Date},n=[{key:"getPriorities",value:function(){return["low","medium","high"]}},{key:"getCategories",value:function(){return["general","work","personal","shopping","travel"]}},{key:"getRecurrences",value:function(){return["daily","weekly","monthly","yearly"]}}],(t=[{key:"formattedDueDate",get:function(){return(0,r.GP)(new Date(this.dueDate),"MMM d, yyyy")}},{key:"toggleComplete",value:function(){this.completed=!this.completed,this.lastModified=new Date}},{key:"startTiming",value:function(){this.completed||null!==this.startTime||(this.startTime=new Date,this.lastModified=new Date)}},{key:"stopTiming",value:function(){if(null!==this.startTime){var e=(new Date-this.startTime)/1e3;this.timeSpent+=e,this.startTime=null,this.lastModified=new Date}}},{key:"isBeingTimed",value:function(){return null!==this.startTime}},{key:"getFormattedTimeSpent",value:function(){var e=Math.floor(this.timeSpent/3600),t=Math.floor(this.timeSpent%3600/60);return"".concat(e,"h ").concat(t,"m")}},{key:"isUrgent",value:function(){if(this.completed)return!1;var e=new Date,t=new Date(this.dueDate);return"high"===this.priority&&t<=e}},{key:"isImportant",value:function(){return"high"===this.priority}},{key:"getSubtaskProgress",value:function(){if(!this.subtasks||0===this.subtasks.length)return 0;var e=this.subtasks.filter((function(e){return e.completed})).length;return Math.round(e/this.subtasks.length*100)}},{key:"addSubtask",value:function(e){this.subtasks||(this.subtasks=[]),this.subtasks.push(e),this.lastModified=new Date}},{key:"removeSubtask",value:function(e){this.subtasks&&(this.subtasks=this.subtasks.filter((function(t){return t.id!==e})),this.lastModified=new Date)}},{key:"updateSubtask",value:function(e,t){if(this.subtasks){var n=this.subtasks.find((function(t){return t.id===e}));n&&(n.completed=t,this.lastModified=new Date)}}}])&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),l="todoAppData";function c(e){try{var t={todoList:e.exportData(),darkMode:localStorage.getItem("isDarkMode"),templates:Array.from(e.templates.values()).map((function(e){return e.exportData()}))};localStorage.setItem(l,JSON.stringify(t)),console.log("Data saved successfully:",t)}catch(e){throw console.error("Error saving data to localStorage:",e),e}}function d(){try{var e=localStorage.getItem(l);if(!e)return console.log("No saved data found, returning new TodoList"),new y;var t=JSON.parse(e),n=new y(t.todoList);return t.templates&&t.templates.forEach((function(e){var t=new s(e);t.type="template",n.templates.set(t.id,t)})),n}catch(e){return console.error("Error loading data from localStorage:",e),new y}}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function h(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}var y=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.projects={},this.selectedProject=null,this.categories=s.getCategories(),this.priorities=s.getPriorities(),this.recurrences=s.getRecurrences(),this.templates=new Map,this.analyticsData={totalTasks:0,completedTasks:0,averageTimeSpent:0,urgentTasks:0,importantTasks:0},this.load()},t=[{key:"createProject",value:function(e){if(!e||""===e.trim())throw new Error("Project name cannot be empty");if(this.getProjectByName(e))throw new Error("Project with this name already exists");var t={id:Date.now().toString(),name:e.trim(),todos:[],createdDate:new Date,lastModified:new Date};return this.projects[t.id]=t,this.save(),t}},{key:"getProjectById",value:function(e){return this.projects[e]}},{key:"getProjectByName",value:function(e){return Object.values(this.projects).find((function(t){return t.name===e}))}},{key:"getAllProjects",value:function(){return Object.values(this.projects)}},{key:"deleteProject",value:function(e){var t;(null===(t=this.selectedProject)||void 0===t?void 0:t.id)===e&&(this.selectedProject=null),delete this.projects[e],this.save()}},{key:"addTodo",value:function(e,t){var n=this.getProjectById(e);if(!n)throw new Error("Project not found");var r=new s(t.title,t.description,t.dueDate,t.priority,t.notes,t.completed,t.category,t.isRecurring,t.recurrence,t.tags,t.dependencies,t.subtasks,t.timeSpent,t.templateId);return n.todos.push(r),n.lastModified=new Date,this.updateAnalytics(),this.save(),r}},{key:"updateTodo",value:function(e,t,n){var r=this.getProjectById(e);if(!r)throw new Error("Project not found");var o=r.todos.find((function(e){return e.id===t}));if(!o)throw new Error("Todo not found");Object.assign(o,n),o.lastModified=new Date,r.lastModified=new Date,this.updateAnalytics(),this.save()}},{key:"deleteTodo",value:function(e,t){var n=this.getProjectById(e);if(!n)throw new Error("Project not found");n.todos=n.todos.filter((function(e){return e.id!==t})),n.lastModified=new Date,this.updateAnalytics(),this.save()}},{key:"createTemplate",value:function(e){var t=f(f({},e),{},{templateId:Date.now().toString()});return this.templates.set(t.templateId,t),this.save(),t}},{key:"getTemplateById",value:function(e){return this.templates.get(e)}},{key:"deleteTemplate",value:function(e){this.templates.delete(e),this.save()}},{key:"updateAnalytics",value:function(){var e=this;this.analyticsData={totalTasks:0,completedTasks:0,averageTimeSpent:0,urgentTasks:0,importantTasks:0},Object.values(this.projects).forEach((function(t){t.todos.forEach((function(t){e.analyticsData.totalTasks++,t.completed&&e.analyticsData.completedTasks++,t.isUrgent()&&e.analyticsData.urgentTasks++,t.isImportant()&&e.analyticsData.importantTasks++,e.analyticsData.averageTimeSpent+=t.timeSpent}))})),this.analyticsData.totalTasks>0&&(this.analyticsData.averageTimeSpent/=this.analyticsData.totalTasks)}},{key:"save",value:function(){var e;c("todoList",(this.projects,null===(e=this.selectedProject)||void 0===e||e.id,this.analyticsData,Array.from(this.templates.entries())))}},{key:"load",value:function(){var e=d();e?(this.projects=e.projects,this.analyticsData=e.analyticsData,this.templates=new Map(e.templates),this.projects=Object.fromEntries(Object.entries(this.projects).map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=t[0],r=t[1];return r.todos=r.todos.map((function(e){var t=new s(e.title,e.description,e.dueDate,e.priority,e.notes,e.completed,e.category,e.isRecurring,e.recurrence,e.tags,e.dependencies,e.subtasks,e.timeSpent,e.templateId);return t.id=e.id,t.lastModified=e.lastModified,t.createdDate=e.createdDate,t})),[n,r]}))),e.selectedProjectId&&(this.selectedProject=this.getProjectById(e.selectedProjectId))):this.createDefaultProject()}},{key:"createDefaultProject",value:function(){try{this.createProject("Default Project")}catch(e){console.error("Error creating default project:",e)}}},{key:"selectProject",value:function(e){var t=this.getProjectById(e);t&&(this.selectedProject=t,this.save())}},{key:"searchTodos",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase().split(" ");return Object.values(this.projects).flatMap((function(e){return e.todos})).filter((function(t){var n="".concat(t.title," ").concat(t.description," ").concat(t.notes).toLowerCase();return e.every((function(e){return n.includes(e)}))}))}},{key:"filterTodos",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return Object.values(this.projects).flatMap((function(e){return e.todos})).filter((function(t){switch(e){case"completed":return t.completed;case"active":return!t.completed;case"urgent":return t.isUrgent();case"important":return t.isImportant();default:return!0}}))}},{key:"sortTodos",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"priority";return Object.values(this.projects).flatMap((function(e){return e.todos})).sort((function(t,n){switch(e){case"priority":return s.getPriorities().indexOf(n.priority)-s.getPriorities().indexOf(t.priority);case"dueDate":return new Date(t.dueDate)-new Date(n.dueDate);case"created":return new Date(n.createdDate)-new Date(t.createdDate);case"modified":return new Date(n.lastModified)-new Date(t.lastModified);default:return 0}}))}}],t&&v(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}document.getElementById("project-list"),document.getElementById("current-project-title"),document.getElementById("delete-project-button");var w=document.getElementById("todo-list"),k=document.getElementById("todo-modal"),x=document.getElementById("modal-title"),j=document.getElementById("todo-form"),E=document.getElementById("todo-id"),T=document.getElementById("todo-title"),D=document.getElementById("todo-description"),I=document.getElementById("todo-due-date"),S=document.getElementById("todo-priority"),P=document.getElementById("todo-notes"),L=document.getElementById("todo-category"),B=document.getElementById("todo-tags"),M=document.getElementById("todo-dependencies"),C=(document.getElementById("todo-subtasks"),document.getElementById("todo-recurring")),O=document.getElementById("todo-recurrence"),A=document.getElementById("todo-time-spent"),N=document.getElementById("todo-template");function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;k.classList.remove("hidden"),e?(x.textContent="Edit Task",E.value=e.id,T.value=e.title,D.value=e.description,I.value=e.dueDate,S.value=e.priority,P.value=e.notes,L.value=e.category,B.value=e.tags.join(", "),M.value=e.dependencies.join(", "),C.checked=e.isRecurring,O.value=e.recurrence,A.value=e.timeSpent,N.value=e.templateId||""):(x.textContent="Add New Task",j.reset())}var H=new y,R="default",J=null,F="priority",_="all",q=!1,G=new Map,$=document.getElementById("add-project-button"),z=document.getElementById("delete-project-button"),K=document.getElementById("add-todo-button"),Q=document.getElementById("quick-add"),V=(document.getElementById("todo-modal"),document.getElementById("close-modal-button"),document.getElementById("cancel-todo-button"),document.getElementById("todo-form")),W=document.getElementById("todo-sort"),X=document.getElementById("todo-filter"),Y=document.getElementById("search-input"),Z=document.getElementById("dark-mode-toggle"),ee=document.getElementById("import-button"),te=document.getElementById("export-button");function ne(e){R=e,c(H),fe()}function re(e,t){var n=H.getProjectById(e);if(n){var r=n.getTodoById(t);r&&(r.completed=!r.completed,console.log('Todo "'.concat(r.title,'" marked as ').concat(r.completed?"complete":"incomplete")),r.completed&&function(e){"granted"===Notification.permission&&(e.isUrgent()&&!e.completed&&me('Task "'.concat(e.title,'" is urgent and needs attention!')),e.isDueToday()&&!e.completed&&me('Task "'.concat(e.title,'" is due today!')))}(r),c(H),fe())}}function oe(e){J=e.id,U(e)}function ae(e,t){var n=H.getProjectById(e);n&&(n.removeTodo(t),console.log("Todo ".concat(t," deleted from project ").concat(e)),c(H),fe())}function ie(){var e=prompt("Enter project name:");if(e&&e.trim())try{H.createProject(e.trim()),c(H),fe()}catch(e){alert(e.message)}}function se(){if(confirm("Are you sure you want to delete this project?"))try{H.deleteProject(R),R="default",c(H),fe()}catch(e){alert(e.message)}}function le(e){e.preventDefault();var t={id:E.value,title:T.value.trim(),description:D.value.trim(),dueDate:I.value,priority:S.value,notes:P.value.trim(),category:L.value,tags:B.value.split(",").map((function(e){return e.trim()})).filter((function(e){return e})),dependencies:M.value.split(",").map((function(e){return e.trim()})).filter((function(e){return e})),isRecurring:C.checked,recurrence:O.value,timeSpent:parseFloat(A.value)||0,templateId:N.value||null},n=H.getProjectById(R);if(J)n.getTodoById(J).update(t),J=null;else{var r=new s(t.title,t.description,t.dueDate,t.priority,t.notes,t.category,t.tags,t.dependencies,t.isRecurring,t.recurrence,t.subtasks,t.timeSpent,t.templateId);n.addTodo(r)}c(H),k.classList.add("hidden"),j.reset(),fe()}function ce(){Y.value.trim().toLowerCase(),fe()}function de(){q=!q,document.body.classList.toggle("dark"),localStorage.setItem("isDarkMode",q),fe()}function ue(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){try{var t=JSON.parse(e.target.result);c(H=new y(t)),fe()}catch(e){console.error("Error importing data:",e),alert("Error importing data. Please ensure the file is in the correct format.")}},n.readAsText(t)}}function pe(){var e=H.exportData(),t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="todo-data.json",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}function me(e){new Notification("Todo Reminder",{body:e,icon:"/images/icon.png"})}function fe(){!function(e,t,n){var r=document.getElementById("projects-list");if(r){r.innerHTML="";var o=document.createElement("div");o.className="project-item hover:bg-gray-100 rounded-md p-2 cursor-pointer",o.innerHTML='\n        <div class="flex items-center justify-between">\n            <div class="flex items-center gap-2">\n                <span class="lucide">&#xe900;</span>\n                <span>All Projects</span>\n            </div>\n            <span class="text-sm text-gray-600">'.concat(Object.values(e).reduce((function(e,t){return e+t.todos.length}),0)," tasks</span>\n        </div>\n    "),"all"===t&&o.classList.add("bg-gray-100"),o.addEventListener("click",(function(){return n("all")})),r.appendChild(o);var a=document.createElement("div");a.className="border-t border-gray-200 my-2",r.appendChild(a),Object.values(e).forEach((function(e){var o=document.createElement("div");o.className="project-item hover:bg-gray-100 rounded-md p-2 cursor-pointer",o.innerHTML='\n            <div class="flex items-center justify-between">\n                <div class="flex items-center gap-2">\n                    <span class="lucide">&#xe900;</span>\n                    <span>'.concat(e.name,'</span>\n                </div>\n                <div class="flex flex-col items-end">\n                    <span class="text-sm text-gray-600">').concat(e.todos.length,' tasks</span>\n                    <span class="text-xs text-gray-400">Last modified: ').concat(new Date(e.lastModified).toLocaleDateString(),"</span>\n                </div>\n            </div>\n        "),e.id===t&&o.classList.add("bg-gray-100"),o.addEventListener("click",(function(){return n(e.id)})),r.appendChild(o)}))}}(H.getProjects(),R,ne),function(e){var t=document.getElementById("templates");t&&(t.innerHTML='\n        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">\n            '.concat(Array.from(e.entries()).map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1];return'\n                    <div class="template-card bg-white p-4 rounded-lg shadow hover:shadow-md transition-shadow">\n                        <h4 class="font-semibold mb-2">'.concat(a.title,'</h4>\n                        <p class="text-sm text-gray-600 mb-2">').concat(a.description,'</p>\n                        <div class="flex justify-between items-center">\n                            <span class="text-xs text-gray-500">').concat(a.category,"</span>\n                            <button \n                                onclick=\"handleApplyTemplate('").concat(o,'\')" \n                                class="text-blue-500 hover:text-blue-700 text-sm"\n                            >\n                                Use Template\n                            </button>\n                        </div>\n                    </div>\n                ')})).join(""),'\n            <div class="template-card bg-white p-4 rounded-lg shadow hover:shadow-md transition-shadow">\n                <button \n                    onclick="handleCreateTemplate()" \n                    class="w-full bg-blue-100 text-blue-600 p-4 rounded-lg hover:bg-blue-200 transition-colors"\n                >\n                    <span class="lucide">&#xe408;</span>\n                    Create New Template\n                </button>\n            </div>\n        </div>\n    '))}(G);var e,t,n=H.getProjectById(R);n&&(n.todos.filter((function(e){return"completed"===_?e.completed:"active"===_?!e.completed:"urgent"===_?e.isUrgent():"important"!==_||"high"===e.priority})).sort((function(e,t){switch(F){case"priority":return e.priority.localeCompare(t.priority);case"dueDate":return new Date(e.dueDate)-new Date(t.dueDate);case"created":return new Date(t.createdAt)-new Date(e.createdAt);case"modified":return new Date(t.modifiedAt)-new Date(e.modifiedAt);default:return 0}})),function(e,t,n,r,o){if(w.innerHTML="",e&&e.todos&&0!==e.todos.length){var a=document.createElement("div");a.className="mb-4",a.innerHTML='\n        <div class="flex justify-between text-sm mb-2">\n            <span>Progress</span>\n            <span>'.concat(o,'%</span>\n        </div>\n        <div class="w-full bg-gray-200 rounded-full h-2.5">\n            <div class="bg-blue-600 h-2.5 rounded-full" style="width: ').concat(o,'%"></div>\n        </div>\n    '),w.appendChild(a);var i=document.createElement("div");i.className="flex gap-4 mb-4",i.innerHTML='\n        <select id="todo-filter" class="border rounded px-3 py-1">\n            <option value="all">All</option>\n            <option value="completed">Completed</option>\n            <option value="active">Active</option>\n            <option value="urgent">Urgent</option>\n            <option value="important">Important</option>\n        </select>\n        <select id="todo-sort" class="border rounded px-3 py-1">\n            <option value="priority">Priority</option>\n            <option value="dueDate">Due Date</option>\n            <option value="created">Created</option>\n            <option value="modified">Modified</option>\n        </select>\n    ',w.appendChild(i);var s=document.createElement("input");s.className="w-full border rounded px-3 py-1 mb-4",s.placeholder="Search tasks...",w.appendChild(s);var l=document.createElement("div");l.className="space-y-4",e.todos.forEach((function(o){var a=function(e,t,n,r,o){var a=document.createElement("div");a.classList.add("p-4","border","rounded-lg","shadow-sm","flex","items-start","gap-4","bg-white",function(e){switch(e){case"high":return"border-red-500";case"medium":return"border-yellow-500";case"low":return"border-green-500";default:return"border-gray-300"}}(e.priority),"border-l-4","transition-opacity","duration-300"),e.completed&&a.classList.add("opacity-60","bg-gray-50");var i=document.createElement("input");i.type="checkbox",i.checked=e.completed,i.classList.add("mt-1","form-checkbox","h-5","w-5","text-blue-600","rounded","border-gray-300","focus:ring-blue-500","cursor-pointer","flex-shrink-0"),i.addEventListener("change",(function(){return n(t,e.id)}));var s=document.createElement("div");s.classList.add("flex-grow","min-w-0");var l=document.createElement("div");l.classList.add("flex","items-center","gap-2");var c=document.createElement("span");c.className="lucide text-sm",c.innerHTML={high:"&#xe417;",medium:"&#xe409;",low:"&#xe408;"}[e.priority],c.style.color={high:"red",medium:"yellow",low:"green"}[e.priority];var d=document.createElement("h4");d.textContent=e.title,d.classList.add("font-semibold","text-lg","text-gray-800","break-words"),e.completed&&d.classList.add("line-through"),l.appendChild(c),l.appendChild(d);var u=document.createElement("p");u.textContent=e.description,u.classList.add("text-sm","text-gray-600","mt-1","break-words");var p=document.createElement("p");if(p.textContent="Due: ".concat(e.dueDate?new Date(e.dueDate).toLocaleDateString():"Not set"),p.classList.add("text-xs","text-gray-500","mt-1"),e.isUrgent()){var m=document.createElement("span");m.textContent="URGENT",m.classList.add("ml-2","px-2","py-1","text-xs","bg-red-100","text-red-800","rounded-full"),p.appendChild(m)}var f=document.createElement("p");if(f.textContent="Notes: ".concat(e.notes||"None"),f.classList.add("text-xs","text-gray-500","mt-1","italic","break-words"),e.subtasks&&e.subtasks.length>0){var g=document.createElement("div");g.className="mt-2",g.innerHTML='\n            <div class="flex justify-between text-xs text-gray-500 mb-1">\n                <span>Progress</span>\n                <span>'.concat(e.getSubtaskProgress(),'%</span>\n            </div>\n            <div class="w-full bg-gray-200 rounded-full h-1.5">\n                <div class="bg-blue-600 h-1.5 rounded-full" style="width: ').concat(e.getSubtaskProgress(),'%"></div>\n            </div>\n        '),s.appendChild(g)}var v=document.createElement("p");v.textContent="Time Spent: ".concat(e.getFormattedTimeSpent()),v.classList.add("text-xs","text-gray-500","mt-1"),s.appendChild(l),e.description&&s.appendChild(u),s.appendChild(p),e.notes&&s.appendChild(f),s.appendChild(v);var h=document.createElement("div");h.classList.add("flex","flex-col","sm:flex-row","items-end","sm:items-center","gap-1","ml-auto","flex-shrink-0");var y=document.createElement("button");y.innerHTML=e.isBeingTimed()?'<span class="lucide">&#xe409;</span>':'<span class="lucide">&#xe408;</span>',y.classList.add("text-orange-500","hover:text-orange-700","p-1","rounded","hover:bg-orange-100","flex-shrink-0"),y.title=e.isBeingTimed()?"Stop Timing":"Start Timing",y.addEventListener("click",(function(t){t.stopPropagation(),e.isBeingTimed()?e.stopTiming():e.startTiming(),y.innerHTML=e.isBeingTimed()?'<span class="lucide">&#xe409;</span>':'<span class="lucide">&#xe408;</span>',y.title=e.isBeingTimed()?"Stop Timing":"Start Timing"}));var b=document.createElement("button");b.innerHTML='<span class="lucide">&#xef7f;</span>',b.classList.add("text-blue-500","hover:text-blue-700","p-1","rounded","hover:bg-blue-100","flex-shrink-0"),b.title="Edit Task",b.addEventListener("click",(function(t){t.stopPropagation(),r(e)}));var w=document.createElement("button");return w.innerHTML='<span class="lucide">&#xe4cf;</span>',w.classList.add("text-red-500","hover:text-red-700","p-1","rounded","hover:bg-red-100","flex-shrink-0"),w.title="Delete Task",w.addEventListener("click",(function(n){n.stopPropagation(),confirm('Are you sure you want to delete the task "'.concat(e.title,'"?'))&&o(t,e.id)})),h.appendChild(y),h.appendChild(b),h.appendChild(w),a.appendChild(i),a.appendChild(s),a.appendChild(h),a}(o,e.id,t,n,r);l.appendChild(a)})),w.appendChild(l)}else w.innerHTML='\n            <div class="text-center py-8 text-gray-500">\n                No tasks in this project\n            </div>\n        '}(n,re,oe,ae,H.getProjectProgress(R))),e=H.getAnalytics(),(t=document.getElementById("analytics-dashboard"))&&(t.innerHTML='\n        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">\n            <div class="bg-white p-6 rounded-lg shadow">\n                <h3 class="text-lg font-semibold mb-2">Total Tasks</h3>\n                <p class="text-3xl font-bold">'.concat(e.totalTasks,'</p>\n            </div>\n            <div class="bg-white p-6 rounded-lg shadow">\n                <h3 class="text-lg font-semibold mb-2">Completed Tasks</h3>\n                <p class="text-3xl font-bold">').concat(e.completedTasks,'</p>\n            </div>\n            <div class="bg-white p-6 rounded-lg shadow">\n                <h3 class="text-lg font-semibold mb-2">Average Time Spent</h3>\n                <p class="text-3xl font-bold">').concat(Math.round(e.averageTimeSpent/3600),"h ").concat(Math.round(e.averageTimeSpent%3600/60),'m</p>\n            </div>\n            <div class="bg-white p-6 rounded-lg shadow">\n                <h3 class="text-lg font-semibold mb-2">Urgent Tasks</h3>\n                <p class="text-3xl font-bold">').concat(e.urgentTasks,'</p>\n            </div>\n            <div class="bg-white p-6 rounded-lg shadow">\n                <h3 class="text-lg font-semibold mb-2">Important Tasks</h3>\n                <p class="text-3xl font-bold">').concat(e.importantTasks,"</p>\n            </div>\n        </div>\n    ")),function(e){var t=document.getElementById("eisenhower-matrix");if(t){var n=Object.values(e).flatMap((function(e){return e.todos})),r={important:{urgent:[],notUrgent:[]},notImportant:{urgent:[],notUrgent:[]}};n.forEach((function(e){var t="high"===e.priority,n=e.isUrgent();r[t?"important":"notImportant"][n?"urgent":"notUrgent"].push(e)})),t.innerHTML='\n        <div class="bg-white p-6 rounded-lg shadow">\n            <h2 class="text-xl font-semibold mb-4">Eisenhower Matrix</h2>\n            <div class="grid grid-cols-2 gap-4">\n                <div class="bg-blue-50 p-4 rounded-lg">\n                    <h3 class="text-lg font-semibold mb-2">Important & Urgent</h3>\n                    <ul class="space-y-2">\n                        '.concat(r.important.urgent.map((function(e){return'<li class="flex items-center gap-2">'.concat(e.title,"</li>")})).join(""),'\n                    </ul>\n                </div>\n                <div class="bg-green-50 p-4 rounded-lg">\n                    <h3 class="text-lg font-semibold mb-2">Important & Not Urgent</h3>\n                    <ul class="space-y-2">\n                        ').concat(r.important.notUrgent.map((function(e){return'<li class="flex items-center gap-2">'.concat(e.title,"</li>")})).join(""),'\n                    </ul>\n                </div>\n                <div class="bg-yellow-50 p-4 rounded-lg">\n                    <h3 class="text-lg font-semibold mb-2">Not Important & Urgent</h3>\n                    <ul class="space-y-2">\n                        ').concat(r.notImportant.urgent.map((function(e){return'<li class="flex items-center gap-2">'.concat(e.title,"</li>")})).join(""),'\n                    </ul>\n                </div>\n                <div class="bg-gray-50 p-4 rounded-lg">\n                    <h3 class="text-lg font-semibold mb-2">Not Important & Not Urgent</h3>\n                    <ul class="space-y-2">\n                        ').concat(r.notImportant.notUrgent.map((function(e){return'<li class="flex items-center gap-2">'.concat(e.title,"</li>")})).join(""),"\n                    </ul>\n                </div>\n            </div>\n        </div>\n    ")}}(H.getProjects())}document.getElementById("projects-list"),document.getElementById("todo-list"),document.addEventListener("DOMContentLoaded",(function(){console.log("Initializing application...");try{H=new y(d())}catch(e){console.error("Error loading data:",e),H=new y}(q="true"===localStorage.getItem("isDarkMode"))&&document.body.classList.add("dark");var e=localStorage.getItem("todoTemplates");if(e)try{JSON.parse(e).forEach((function(e){var t=new s(e.title,e.description,e.dueDate,e.priority,e.notes,e.category,e.tags,e.dependencies,e.isRecurring,e.recurrence,e.subtasks,e.timeSpent,"template");G.set(t.id,t)}))}catch(e){console.error("Error loading templates:",e)}"granted"!==Notification.permission&&Notification.requestPermission(),$.addEventListener("click",ie),z.addEventListener("click",se),K.addEventListener("click",(function(){return U()})),Q.addEventListener("click",(function(){return U()})),V.addEventListener("submit",le),W.addEventListener("change",(function(e){return t=e.target.value,F=t,void fe();var t})),X.addEventListener("change",(function(e){return t=e.target.value,_=t,void fe();var t})),Y.addEventListener("input",ce),Z.addEventListener("click",de),ee.addEventListener("change",ue),te.addEventListener("click",pe),fe()}))}},e=>{e.O(0,[96],(()=>e(e.s=283))),e.O()}]);